#include <string.h>
#include <stdlib.h>
#include <math.h>
#include "microarcade.h"
#include "esp_log.h"
#include "esp_rotary.h"
#include "disp.h"
#include "font.h"
#include "ui_menu.h"
#include "local_context.h"


static const char *ltag = "asteroids";

uint8_t	ship_buf[24][32];		/* See end of file for sprite data */
uint8_t	ship_thrust_buf[24][32];

#define ASTEROIDS_FPS	30

#define SHIP_SPRITESIZ	32
#define SHIP_WIDTH	16
#define SHIP_HALFWIDTH	8
#define SHIP_HEIGHT	16
#define SHIP_HALFHEIGHT	8
#define SHIP_MAXABSVEL	3
#define SHIP_VELINC	.06


static void
asteroids_newgame()
{
	rotary_config_t rconf[ROTARY_CNT];
	int		ret;
	int		pressedcnt;
	int		maxpressed;
	float		shipxpos;
	float		shipypos;
	int		ship_angle;
	float		shipxvel;
	float		shipyvel;
	float		shipabsvel;
	float		rad;
	uint8_t		*sbuf;

	memset(rconf, 0, sizeof(rotary_config_t) * ROTARY_CNT);
	rconf[ROTARY_LEFT].rc_style = ROT_STYLE_WRAPAROUND;
	rconf[ROTARY_LEFT].rc_min = 0;
	rconf[ROTARY_LEFT].rc_max = 345;	
	rconf[ROTARY_LEFT].rc_step_value = 15;
	rconf[ROTARY_LEFT].rc_start = 0;

        ret = rotary_reconfig(rconf, ROTARY_CNT);
        if(ret != ESP_OK) {
                ESP_LOGE(ltag, "Could not reconfigure rotarys");
                goto end_label;
        }

        srand((unsigned int)xTaskGetTickCount());

	disp_set_mode(DISP_MODE_FPS, ASTEROIDS_FPS);

	shipxpos = FRAME_WIDTH / 2;
	shipypos = FRAME_HEIGHT / 2;
	shipxvel = shipyvel = 0;
	maxpressed = 0;
	ship_angle = 0;
	

	while(1) {

		ship_angle = 360 - rotary_get_value(ROTARY_LEFT);
		if(ship_angle == 360)
			ship_angle = 0;


		if(rotary_get_button_state(ROTARY_RIGHT) == BUTTON_NOTPRESSED &&
		    rotary_get_button_state(ROTARY_LEFT) == BUTTON_NOTPRESSED){
			sbuf = ship_buf[ship_angle / 15];
		} else {
			sbuf = ship_thrust_buf[ship_angle / 15];

			rad = ship_angle * M_PI / 180;
			shipabsvel = cos(rad) * shipyvel;
			if(shipabsvel < SHIP_MAXABSVEL) {
				shipxvel -= sin(rad) * SHIP_VELINC;
				shipyvel -= cos(rad) * SHIP_VELINC;
			}
		}

		shipxpos += shipxvel;
		shipypos += shipyvel;

		if(shipxpos < 0)
			shipxpos = FRAME_WIDTH - 1 - SHIP_HALFWIDTH;
		else
		if(shipxpos > FRAME_WIDTH - 1 + SHIP_HALFWIDTH)
			shipxpos = SHIP_HALFWIDTH;

		if(shipypos < 0)
			shipypos = FRAME_HEIGHT - 1 - SHIP_HALFHEIGHT;
		else
		if(shipypos > FRAME_HEIGHT - 1 + SHIP_HALFHEIGHT)
			shipypos = SHIP_HALFHEIGHT;

		blt(curframe, sbuf, SHIP_SPRITESIZ, SHIP_WIDTH,
		    shipxpos - SHIP_HALFWIDTH, shipypos - SHIP_HALFHEIGHT);

		pressedcnt = 0;
		if(rotary_get_button_state(ROTARY_LEFT) == BUTTON_PRESSED) {
			++pressedcnt;
		}

		if(rotary_get_button_state(ROTARY_RIGHT) == BUTTON_PRESSED) {
			++pressedcnt;
		}

		if(pressedcnt > maxpressed)
			maxpressed = pressedcnt;

		/* Both buttons were pressed and released */
		if(pressedcnt == 0 && maxpressed == ROTARY_CNT)
			goto end_label;

		sleep_sendswapcurframe();

	}


end_label:


}


void
mod_asteroids_start(void)
{
	local_context_t savedlc;

	ESP_LOGI(ltag, "Asteroids starting");	

	save_lcontext(&savedlc);

	asteroids_newgame();

	restore_lcontext(&savedlc);

	ESP_LOGI(ltag, "Asteroids exiting");	
}



uint8_t	ship_buf[24][32] = {

	/* "ship_0_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0xf8, 0xfc,
	   0xfc, 0xf8, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x78, 0x3f, 0x1f, 0x1f, 0x1f,
	   0x1f, 0x1f, 0x1f, 0x3f, 0x78, 0x00, 0x00, 0x00},

	/* "ship_15_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xc0, 0xf8, 0xfc, 0xfc,
	   0xf8, 0xf0, 0xe0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x7f, 0x7f, 0x3f, 0x1f,
	   0x1f, 0x1f, 0x1f, 0x0f, 0x0e, 0x1c, 0x00, 0x00},

	/* "ship_30_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xf0, 0xf8, 0xf8, 0xf8,
	   0xf0, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xff, 0xff,
	   0x3f, 0x1f, 0x0f, 0x0f, 0x07, 0x06, 0x06, 0x00},

	/* "ship_45_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xf0, 0xf0, 0xf0, 0xf0,
	   0xf0, 0xe0, 0xc0, 0xc0, 0x80, 0x80, 0x80, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x0f, 0x7f,
	   0xff, 0xff, 0x1f, 0x0f, 0x07, 0x03, 0x03, 0x03},

	/* "ship_60_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0xe0, 0xf0, 0xf0, 0xf0, 0xf0,
	   0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xc0, 0xc0,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x0f,
	   0x1f, 0x7f, 0x7f, 0x0f, 0x03, 0x01, 0x00, 0x00},

	/* "ship_75_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0xc0, 0xe0, 0xe0, 0xe0, 0xf0, 0xf0,
	   0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x70, 0x30, 0x00,
	   0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x07, 0x0f,
	   0x0f, 0x1f, 0x3f, 0x3f, 0x27, 0x00, 0x00, 0x00},

	/* "ship_90_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x80, 0xc0, 0xc0, 0xe0, 0xe0, 0xe0,
	   0xf0, 0xf0, 0xf0, 0xf8, 0xf8, 0x18, 0x08, 0x00,
	   0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07,
	   0x0f, 0x0f, 0x0f, 0x1f, 0x1f, 0x18, 0x10, 0x00},

	/* "ship_105_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xe0, 0xf0,
	   0xf0, 0xf8, 0xfc, 0xfc, 0xe4, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x03, 0x07, 0x07, 0x07, 0x0f, 0x0f,
	   0x0f, 0x0f, 0x0f, 0x0f, 0x0f, 0x0e, 0x0c, 0x00},

	/* "ship_120_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xf0,
	   0xf8, 0xfe, 0xfe, 0xf0, 0xc0, 0x80, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x07, 0x0f, 0x0f, 0x0f, 0x0f,
	   0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03},

	/* "ship_135_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xf0, 0xfe,
	   0xff, 0xff, 0xf8, 0xf0, 0xe0, 0xc0, 0xc0, 0xc0,
	   0x00, 0x00, 0x00, 0x00, 0x0f, 0x0f, 0x0f, 0x0f,
	   0x0f, 0x07, 0x03, 0x03, 0x01, 0x01, 0x01, 0x00},

	/* "ship_150_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0xff, 0xff,
	   0xfc, 0xf8, 0xf0, 0xf0, 0xe0, 0x60, 0x60, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x0f, 0x1f, 0x1f, 0x1f,
	   0x0f, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_165_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xfe, 0xfe, 0xfc, 0xf8,
	   0xf8, 0xf8, 0xf8, 0xf0, 0x70, 0x38, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x03, 0x1f, 0x3f, 0x3f,
	   0x1f, 0x0f, 0x07, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_180_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x1e, 0xfc, 0xf8, 0xf8, 0xf8,
	   0xf8, 0xf8, 0xf8, 0xfc, 0x1e, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x1f, 0x3f,
	   0x3f, 0x1f, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00},

	/* "ship_195_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x38, 0x70, 0xf0, 0xf8, 0xf8, 0xf8,
	   0xf8, 0xfc, 0xfe, 0xfe, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x07, 0x0f, 0x1f,
	   0x3f, 0x3f, 0x1f, 0x03, 0x00, 0x00, 0x00, 0x00},

	/* "ship_210_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x60, 0x60, 0xe0, 0xf0, 0xf0, 0xf8, 0xfc,
	   0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x0f,
	   0x1f, 0x1f, 0x1f, 0x0f, 0x00, 0x00, 0x00, 0x00},

	/* "ship_225_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0xc0, 0xc0, 0xc0, 0xe0, 0xf0, 0xf8, 0xff, 0xff,
	   0xfe, 0xf0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x01, 0x01, 0x01, 0x03, 0x03, 0x07, 0x0f,
	   0x0f, 0x0f, 0x0f, 0x0f, 0x00, 0x00, 0x00, 0x00},

	/* "ship_240_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x80, 0xc0, 0xf0, 0xfe, 0xfe, 0xf8,
	   0xf0, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07,
	   0x0f, 0x0f, 0x0f, 0x0f, 0x07, 0x00, 0x00, 0x00},

	/* "ship_255_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0xe4, 0xfc, 0xfc, 0xf8, 0xf0,
	   0xf0, 0xe0, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00,
	   0x00, 0x0c, 0x0e, 0x0f, 0x0f, 0x0f, 0x0f, 0x0f,
	   0x0f, 0x0f, 0x07, 0x07, 0x07, 0x03, 0x00, 0x00},

	/* "ship_270_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x08, 0x18, 0xf8, 0xf8, 0xf0, 0xf0, 0xf0,
	   0xe0, 0xe0, 0xe0, 0xc0, 0xc0, 0x80, 0x00, 0x00,
	   0x00, 0x10, 0x18, 0x1f, 0x1f, 0x0f, 0x0f, 0x0f,
	   0x07, 0x07, 0x07, 0x03, 0x03, 0x01, 0x00, 0x00},

	/* "ship_285_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x30, 0x70, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
	   0xf0, 0xf0, 0xe0, 0xe0, 0xe0, 0xc0, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x27, 0x3f, 0x3f, 0x1f, 0x0f,
	   0x0f, 0x07, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00},

	/* "ship_300_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0xc0, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0,
	   0xf0, 0xf0, 0xf0, 0xf0, 0xe0, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x01, 0x03, 0x0f, 0x7f, 0x7f, 0x1f,
	   0x0f, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_315_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x80, 0x80, 0x80, 0xc0, 0xc0, 0xe0, 0xf0,
	   0xf0, 0xf0, 0xf0, 0xf0, 0x00, 0x00, 0x00, 0x00,
	   0x03, 0x03, 0x03, 0x07, 0x0f, 0x1f, 0xff, 0xff,
	   0x7f, 0x0f, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_330_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xf0,
	   0xf8, 0xf8, 0xf8, 0xf0, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x06, 0x06, 0x07, 0x0f, 0x0f, 0x1f, 0x3f,
	   0xff, 0xff, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00},

	/* "ship_345_deg" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xe0, 0xf0, 0xf8,
	   0xfc, 0xfc, 0xf8, 0xc0, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x1c, 0x0e, 0x0f, 0x1f, 0x1f, 0x1f,
	   0x1f, 0x3f, 0x7f, 0x7f, 0x00, 0x00, 0x00, 0x00}
};


uint8_t	ship_thrust_buf[24][32] = {

	/* "ship_0_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0xf8, 0xfc,
	   0xfc, 0xf8, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x78, 0x3f, 0x9f, 0x5f, 0x9f,
	   0x5f, 0x9f, 0x5f, 0x3f, 0x78, 0x00, 0x00, 0x00},

	/* "ship_15_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xc0, 0xf8, 0xfc, 0xfc,
	   0xf8, 0xf0, 0xe0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x7f, 0x7f, 0x3f, 0x9f,
	   0x5f, 0x9f, 0x5f, 0x2f, 0x4e, 0x1c, 0x00, 0x00},

	/* "ship_30_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xf0, 0xf8, 0xf8, 0xf8,
	   0xf0, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xff, 0xff,
	   0x3f, 0x5f, 0x8f, 0x2f, 0x57, 0x06, 0x26, 0x00},

	/* "ship_45_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xf0, 0xf0, 0xf0, 0xf0,
	   0xf0, 0xe0, 0xc0, 0xc0, 0x80, 0x80, 0x80, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x0f, 0x7f,
	   0xff, 0xff, 0x1f, 0xaf, 0x17, 0x2b, 0x03, 0x0b},

	/* "ship_60_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0xe0, 0xf0, 0xf0, 0xf0, 0xf0,
	   0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xc0, 0xc0,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x0f,
	   0x1f, 0x7f, 0x7f, 0x0f, 0x23, 0x09, 0x42, 0x14},

	/* "ship_75_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0xc0, 0xe0, 0xe0, 0xe0, 0xf0, 0xf0,
	   0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0x70, 0x30, 0x40,
	   0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x07, 0x0f,
	   0x0f, 0x1f, 0x3f, 0x3f, 0x27, 0x08, 0x11, 0x0a},

	/* "ship_90_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x80, 0xc0, 0xc0, 0xe0, 0xe0, 0xe0,
	   0xf0, 0xf0, 0xf0, 0xf8, 0xf8, 0x18, 0xa8, 0x40,
	   0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07,
	   0x0f, 0x0f, 0x0f, 0x1f, 0x1f, 0x18, 0x12, 0x05},

	/* "ship_105_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xe0, 0xf0,
	   0xf0, 0xf8, 0xfc, 0xfc, 0xe4, 0x10, 0x88, 0x50,
	   0x00, 0x00, 0x03, 0x07, 0x07, 0x07, 0x0f, 0x0f,
	   0x0f, 0x0f, 0x0f, 0x0f, 0x0f, 0x0e, 0x0c, 0x02},

	/* "ship_120_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xf0,
	   0xf8, 0xfe, 0xfe, 0xf0, 0xc4, 0x90, 0x42, 0x28,
	   0x00, 0x00, 0x00, 0x07, 0x0f, 0x0f, 0x0f, 0x0f,
	   0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03},

	/* "ship_135_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xf0, 0xfe,
	   0xff, 0xff, 0xf8, 0xf5, 0xe8, 0xd4, 0xc0, 0xd0,
	   0x00, 0x00, 0x00, 0x00, 0x0f, 0x0f, 0x0f, 0x0f,
	   0x0f, 0x07, 0x03, 0x03, 0x01, 0x01, 0x01, 0x00},

	/* "ship_150_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0xff, 0xff,
	   0xfc, 0xfa, 0xf1, 0xf4, 0xea, 0x60, 0x64, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x0f, 0x1f, 0x1f, 0x1f,
	   0x0f, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_165_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0xfe, 0xfe, 0xfc, 0xf9,
	   0xfa, 0xf9, 0xfa, 0xf4, 0x72, 0x38, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x03, 0x1f, 0x3f, 0x3f,
	   0x1f, 0x0f, 0x07, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_180_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x1e, 0xfc, 0xfa, 0xf9, 0xfa,
	   0xf9, 0xfa, 0xf9, 0xfc, 0x1e, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x1f, 0x3f,
	   0x3f, 0x1f, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00},

	/* "ship_195_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x38, 0x72, 0xf4, 0xfa, 0xf9, 0xfa,
	   0xf9, 0xfc, 0xfe, 0xfe, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x07, 0x0f, 0x1f,
	   0x3f, 0x3f, 0x1f, 0x03, 0x00, 0x00, 0x00, 0x00},

	/* "ship_210_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x64, 0x60, 0xea, 0xf4, 0xf1, 0xfa, 0xfc,
	   0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x0f,
	   0x1f, 0x1f, 0x1f, 0x0f, 0x00, 0x00, 0x00, 0x00},

	/* "ship_225_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0xd0, 0xc0, 0xd4, 0xe8, 0xf5, 0xf8, 0xff, 0xff,
	   0xfe, 0xf0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x01, 0x01, 0x01, 0x03, 0x03, 0x07, 0x0f,
	   0x0f, 0x0f, 0x0f, 0x0f, 0x00, 0x00, 0x00, 0x00},

	/* "ship_240_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x28, 0x42, 0x90, 0xc4, 0xf0, 0xfe, 0xfe, 0xf8,
	   0xf0, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00,
	   0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07,
	   0x0f, 0x0f, 0x0f, 0x0f, 0x07, 0x00, 0x00, 0x00},

	/* "ship_255_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x50, 0x88, 0x10, 0xe4, 0xfc, 0xfc, 0xf8, 0xf0,
	   0xf0, 0xe0, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00,
	   0x02, 0x0c, 0x0e, 0x0f, 0x0f, 0x0f, 0x0f, 0x0f,
	   0x0f, 0x0f, 0x07, 0x07, 0x07, 0x03, 0x00, 0x00},

	/* "ship_270_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0xa0, 0x48, 0x18, 0xf8, 0xf8, 0xf0, 0xf0, 0xf0,
	   0xe0, 0xe0, 0xe0, 0xc0, 0xc0, 0x80, 0x00, 0x00,
	   0x02, 0x15, 0x18, 0x1f, 0x1f, 0x0f, 0x0f, 0x0f,
	   0x07, 0x07, 0x07, 0x03, 0x03, 0x01, 0x00, 0x00},

	/* "ship_285_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x40, 0x30, 0x70, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0,
	   0xf0, 0xf0, 0xe0, 0xe0, 0xe0, 0xc0, 0x00, 0x00,
	   0x0a, 0x11, 0x08, 0x27, 0x3f, 0x3f, 0x1f, 0x0f,
	   0x0f, 0x07, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00},

	/* "ship_300_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0xc0, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0,
	   0xf0, 0xf0, 0xf0, 0xf0, 0xe0, 0x00, 0x00, 0x00,
	   0x14, 0x42, 0x09, 0x23, 0x0f, 0x7f, 0x7f, 0x1f,
	   0x0f, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_315_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x80, 0x80, 0x80, 0xc0, 0xc0, 0xe0, 0xf0,
	   0xf0, 0xf0, 0xf0, 0xf0, 0x00, 0x00, 0x00, 0x00,
	   0x0b, 0x03, 0x2b, 0x17, 0xaf, 0x1f, 0xff, 0xff,
	   0x7f, 0x0f, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00},

	/* "ship_330_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xf0,
	   0xf8, 0xf8, 0xf8, 0xf0, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x26, 0x06, 0x57, 0x2f, 0x8f, 0x5f, 0x3f,
	   0xff, 0xff, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00},

	/* "ship_345_deg_thr" (16x16): vertical mapping, 256 pixels, 32 bytes */
	{  0x00, 0x00, 0x00, 0x00, 0x80, 0xe0, 0xf0, 0xf8,
	   0xfc, 0xfc, 0xf8, 0xc0, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x1c, 0x4e, 0x2f, 0x5f, 0x9f, 0x5f,
	   0x9f, 0x3f, 0x7f, 0x7f, 0x00, 0x00, 0x00, 0x00}
};


